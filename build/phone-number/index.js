(()=>{"use strict";const e=window.wp.blocks,l=window.wp.element,n=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.components,r=window.wp.data,o=window.wp.coreData;(0,e.registerBlockType)("inventory-presser/invp-phone-number",{edit:function({attributes:e,setAttributes:s}){const i=(0,t.useBlockProps)(),c=(p="location",(0,r.useSelect)((e=>{const l=["taxonomy",p,{per_page:-1,hide_empty:!1,context:"view"}],{getEntityRecords:n,isResolving:t}=e(o.store),a=n(...l);return{terms:a,isLoading:t("getEntityRecords",l),hasTerms:!!a?.length}}),[p]));var p;const _=[];c.hasTerms&&(_.push({label:(0,n.__)("Please choose","inventory-presser"),value:0}),c.terms.forEach((e=>{_.push({label:e.name,value:e.id})})));const m=e=>{var l=[],n=document.getElementsByName("phoneUids");if(n)for(var t=0;t<n.length;t++)n[t].checked&&l.push(n[t].value);s({phoneUids:l})},u=[];return c.hasTerms&&c.terms.forEach((n=>{n.id==e.location&&0!=n.id&&Object.keys(n.meta).forEach((t=>{if(new RegExp("phone_[0-9]_uid").test(t)&&""!=n.meta[t]){var r=n.meta["phone_"+t.replace(/[^0-9]+/g,"")+"_description"];u.push((0,l.createElement)("li",null,(0,l.createElement)(a.CheckboxControl,{label:r,name:"phoneUids",value:n.meta[t],checked:-1!==e.phoneUids.indexOf(n.meta[t]),onChange:m})))}}))})),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(t.BlockControls,null),(0,l.createElement)("div",i,(0,l.createElement)(a.Placeholder,{label:(0,n.__)("Phone Number","inventory-presser"),instructions:(0,n.__)("Displays a phone number from the locations taxonomy","inventory-presser")},(0,l.createElement)(a.SelectControl,{label:(0,n.__)("Format","inventory-presser"),value:e.format,options:[{label:(0,n.__)("Please choose","inventory-presser"),value:""},{label:(0,n.__)("Small, left label","inventory-presser"),value:"small_left_label"},{label:(0,n.__)("Large, no label","inventory-presser"),value:"large_no_label"},{label:(0,n.__)("Large tabled, left label","inventory-presser"),value:"large_table_left"},{label:(0,n.__)("Large, small left label","inventory-presser"),value:"large_left_label"},{label:(0,n.__)("Large, small right label","inventory-presser"),value:"large_right_label"},{label:(0,n.__)("Single line with labels","inventory-presser"),value:"single_line_labels"},{label:(0,n.__)("Single line no labels","inventory-presser"),value:"single_line_no_labels"}],onChange:e=>{s({format:e})}}),(0,l.createElement)(a.SelectControl,{label:(0,n.__)("Location","inventory-presser"),value:e.location,options:_,onChange:e=>{s({location:parseInt(e)})}}),(0,l.createElement)("ul",{className:"phoneUids"},u))))},save:function(){return null}})})();